@page "/characterPage"
@page "/characterPage/{Id}"
<CascadingValue Value="_vm">
    <MudGrid Spacing="1" Justify="Justify.FlexStart">
        <MudItem xs="1">
            <div class="mb-3">
                @if (!string.IsNullOrWhiteSpace(_vm.Character.AvatarPath))
                {
                    <img style="max-width: 90%; max-height: 90%;" src="art/@_vm.Character.AvatarPath">
                }
            </div>
        </MudItem>
        <MudItem xs="3">
            <MudCard>
                <CharacterNameInputComponent />
            </MudCard>
        </MudItem>
        <MudItem xs="2">
            <MudCard>
                <CharacterTierInputComponent />
            </MudCard>
        </MudItem>
        <MudItem xs="2">
            <MudCard>
                <MudButton @onclick="_vm.DrawerComponent.ToggleDrawer">Skill Checks</MudButton>
            </MudCard>
        </MudItem>
    </MudGrid>
    <MudGrid Justify="Justify.FlexEnd">
        <MudItem xs="2">
            <CharacterXPInputComponent />
        </MudItem>
        <MudItem xs="2">
            <RankInputComponent />
        </MudItem>
        <MudItem xs="2">
            <CurrentWoundsComponent />
        </MudItem>
        <MudItem xs="2">
            <CurrentShockComponent />
        </MudItem>
        <MudItem xs="2">
            <WrathComponent />
        </MudItem>
        <MudItem xs="2">
            <GloryComponent />
        </MudItem>
    </MudGrid>
    <MudGrid Justify="Justify.Center">
        <MudItem xs="12">
            <MudTabs Rounded="false" Centered="true" PrevIcon="@Icons.Filled.SkipPrevious" NextIcon="@Icons.Filled.SkipNext">
                <MudTabPanel Text="Actions">
                    <MudPaper>
                        <ActionTabContentComponent />
                    </MudPaper>
                </MudTabPanel>
                <MudTabPanel Text="Inventory">
                    <MudPaper>
                        <InventoryTabContentComponent />
                    </MudPaper>
                </MudTabPanel>
                <MudTabPanel Text="Skills">
                    <SkillsTabContentComponent />
                </MudTabPanel>
                <MudTabPanel Text="Abilities">
                    <MudPaper>
                        <TalentTabContentComponent />
                    </MudPaper>
                </MudTabPanel>
                <MudTabPanel Text="Misc">
                    <MudPaper>
                        <FactionTabContentComponent />
                    </MudPaper>
                </MudTabPanel>
            </MudTabs>
        </MudItem>
    </MudGrid>

    <DrawerComponent @ref="_vm.DrawerComponent" />

</CascadingValue>